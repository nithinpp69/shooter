var _0x1a3e=['highscore','https://nithinpp69.github.io/shooter/assets/bg.jpg','length','isOffScreen','hits','setItem','update','splice','GAME\x20OVER\x20\x0a\x0a\x20You\x20scored\x20','https://nithinpp69.github.io/shooter/assets/Rajdhani.ttf','position','push','setDirection','show','hasLanded','move','Press\x20SPACE\x20to\x20start\x20game\x20\x0a\x0a\x20Press\x20LEFT\x20or\x20RIGHT\x20ARROW\x20key\x20to\x20move\x20your\x20player\x20\x0a\x20Press\x20SPACE\x20to\x20shoot','updateVisibility'];(function(_0x7848ec,_0x1a3e4f){var _0x5adac6=function(_0x4aafd0){while(--_0x4aafd0){_0x7848ec['push'](_0x7848ec['shift']());}};_0x5adac6(++_0x1a3e4f);}(_0x1a3e,0x83));var _0x5ada=function(_0x7848ec,_0x1a3e4f){_0x7848ec=_0x7848ec-0x0;var _0x5adac6=_0x1a3e[_0x7848ec];return _0x5adac6;};var cnv;var start_game=![];var game_over=![];var warrior;var fireballs;var invaders;var start_y_pos=0x0;var start_x_pos;var points=0x0;var score;var current_level=0x1;var level;var bg;var font;var highscore=0x0;var instructions;var level_info;function centerCanvas(){var _0x213114=(windowWidth-width)/0x2;var _0x3c7f74=(windowHeight-height)/0x2;cnv[_0x5ada('0x5')](_0x213114,_0x3c7f74);}function windowResized(){centerCanvas();}function setup(){cnv=createCanvas(windowWidth,windowHeight);bg=loadImage(_0x5ada('0xe'));font=loadFont(_0x5ada('0x4'));instructions=new Instructions(_0x5ada('0xb'));level_info=new LevelInfo();centerCanvas();}async function setupGame(){redraw();current_level=0x1;points=0x0;fireballs=[];invaders=[];start_x_pos=width/0x2+0xa;warrior=new Warrior();level=new Level(current_level);level_info[_0x5ada('0x1')](current_level);highscore=await getHighScore();score=new Points(points,highscore);createInvaders();game_over=![];start_game=!![];}function draw(){background(bg);if(!start_game||game_over)instructions['show']();if(start_game&&!game_over){showLevelInfo();warrior[_0x5ada('0x8')]();warrior[_0x5ada('0xa')]();score[_0x5ada('0x8')]();level[_0x5ada('0x8')]();if(invaders[_0x5ada('0xf')]==0x0){current_level+=0x1;level['update'](current_level);level_info['update'](current_level);createInvaders();}else{for(var _0x505c8e=invaders[_0x5ada('0xf')]-0x1;_0x505c8e>=0x0;_0x505c8e--){invaders[_0x505c8e]['show']();invaders[_0x505c8e][_0x5ada('0x1')]();for(var _0x5f3b02=fireballs[_0x5ada('0xf')]-0x1;_0x5f3b02>=0x0;_0x5f3b02--){if(fireballs[_0x5f3b02][_0x5ada('0x11')](invaders[_0x505c8e])){fireballs[_0x5ada('0x2')](_0x5f3b02,0x1);invaders[_0x5ada('0x2')](_0x505c8e,0x1);points+=0xa;score['update'](points);}else if(fireballs[_0x5f3b02][_0x5ada('0x10')]()){if(points>0x0)points-=0x5;score[_0x5ada('0x1')](points);fireballs[_0x5ada('0x2')](_0x5f3b02,0x1);}}if(invaders[_0x505c8e]){if(invaders[_0x505c8e][_0x5ada('0x9')](warrior)){if(points>=highscore)localStorage[_0x5ada('0x0')](_0x5ada('0xd'),points);game_over=!![];instructions[_0x5ada('0x1')](_0x5ada('0x3')+points+'\x20points\x20\x0a\x0a\x20Press\x20ENTER\x20to\x20play\x20again');}}}}if(highscore&&highscore<points)highscore=points;for(var _0x505c8e=fireballs[_0x5ada('0xf')]-0x1;_0x505c8e>=0x0;_0x505c8e--){fireballs[_0x505c8e][_0x5ada('0x8')]();fireballs[_0x505c8e][_0x5ada('0x1')]();}}}function showLevelInfo(){level_info['show']();}function getHighScore(){let _0x2970d9=localStorage['getItem'](_0x5ada('0xd'));return _0x2970d9;}function createInvaders(){level_info[_0x5ada('0xc')](!![]);for(var _0x48ff6a=0x0;_0x48ff6a<current_level*0x8;_0x48ff6a++){start_y_pos=start_y_pos-warrior['w'];start_x_pos=width/0x2+warrior['w']-_0x48ff6a*0xa;for(var _0x27bdda=0x0;_0x27bdda<_0x48ff6a;_0x27bdda++){invaders[_0x5ada('0x6')](new Invader(start_x_pos,start_y_pos));start_x_pos+=0x14;}}setTimeout(()=>{level_info[_0x5ada('0xc')](![]);},0xbb8);}function keyPressed(){if(start_game){if(keyCode==LEFT_ARROW){warrior[_0x5ada('0x7')](-0x1);}if(keyCode==RIGHT_ARROW){warrior['setDirection'](0x1);}}if(key=='\x20'){if(!start_game){setupGame();}else{fireballs[_0x5ada('0x6')](new FireBall(warrior['x'],height-0x3c));}}if(keyCode===ENTER){if(!start_game||game_over)setupGame();}}function keyReleased(){if(start_game)if(key!='\x20'){warrior[_0x5ada('0x7')](0x0);}}function windowResized(){setupGame();}